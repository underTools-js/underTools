"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[9745],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return d}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),m=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=m(a),d=r,h=u["".concat(s,".").concat(d)]||u[d]||c[d]||l;return a?n.createElement(h,i(i({ref:t},p),{},{components:a})):n.createElement(h,i({ref:t},p))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var m=2;m<l;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},198:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return o},metadata:function(){return m},toc:function(){return c}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),i=["components"],o={},s="Ajax",m={unversionedId:"ajax/ajax",id:"ajax/ajax",title:"Ajax",description:"The _.ajax(obj) method allows you to simply perform an AJAX request.",source:"@site/docs/ajax/ajax.md",sourceDirName:"ajax",slug:"/ajax/",permalink:"/docs/next/ajax/",editUrl:"https://github.com/Skyleen77/underTools/tree/dev/doc/docs/ajax/ajax.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Uniq",permalink:"/docs/next/methods/uniq"}},p={},c=[{value:"Basic use",id:"basic-use",level:2},{value:"Properties",id:"properties",level:2},{value:"request <small><code>Facultatif</code></small>",id:"request-facultatif",level:3},{value:"method <small><code>Facultatif</code></small>",id:"method-facultatif",level:3},{value:"url",id:"url",level:3},{value:"data <small><code>Facultatif</code></small>",id:"data-facultatif",level:3},{value:"format <small><code>Facultatif</code></small>",id:"format-facultatif",level:3},{value:"headers <small><code>Facultatif</code></small>",id:"headers-facultatif",level:3},{value:"mode <small><code>Facultatif</code></small>",id:"mode-facultatif",level:3},{value:"cache <small><code>Facultatif</code></small>",id:"cache-facultatif",level:3},{value:"response",id:"response",level:3},{value:"error <small><code>Facultatif</code></small>",id:"error-facultatif",level:3}],u={toc:c};function d(e){var t=e.components,a=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"ajax"},"Ajax"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"_.ajax(obj)")," method allows you to simply perform an AJAX request."),(0,l.kt)("h2",{id:"basic-use"},"Basic use"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  url: 'https://api.thecatapi.com/v1/images/search',\n  format: 'JSON',\n  response: (res) => {\n    console.log(res);\n  },\n  error: (err) => {\n    console.log(err);\n  },\n});\n")),(0,l.kt)("h2",{id:"properties"},"Properties"),(0,l.kt)("p",null,"The object passed as a parameter contains the following properties:"),(0,l.kt)("h3",{id:"request-facultatif"},"request ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": String"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Initially"),": auto"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": Allows forcing the use of XMLHttpRequest or fetch. Initially request is equal to auto ie the fetch function will be favored, however, if the fetch method is not compatible with the browser, the XMLHttpRequest method will be used.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  // highlight-next-line\n  request: 'fetch',\n  url: 'https://api.yourdomain.com/articles',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Focusing the use of fetch may ",(0,l.kt)("strong",{parentName:"p"},"cause incompatibility")," for older browsers like Internet Explorer."))),(0,l.kt)("h3",{id:"method-facultatif"},"method ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": String"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Initially"),": GET"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": GET or POST")),(0,l.kt)("p",null,"GET example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  // highlight-next-line\n  method: 'GET',\n  url: 'https://api.yourdomain.com/articles',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The method property is initially equal to GET, so there is no need to put ",(0,l.kt)("inlineCode",{parentName:"p"},"method: 'GET'"),"."))),(0,l.kt)("p",null,"POST example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  // highlight-next-line\n  method: 'POST',\n  url: 'https://api.yourdomain.com/articles',\n  data: JSON.stringify({ title: 'POST Request Example' }),\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"To make a POST request, the ",(0,l.kt)("inlineCode",{parentName:"p"},"data")," property is required."))),(0,l.kt)("h3",{id:"url"},"url"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": String"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": The request URL.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  // highlight-next-line\n  url: 'https://api.yourdomain.com/articles',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("h3",{id:"data-facultatif"},"data ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": Depends on the recipient of your request."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": The data you want to insert.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  method: 'POST',\n  url: 'https://api.yourdomain.com/articles',\n  // highlight-next-line\n  data: JSON.stringify({ title: 'POST Request Example' }),\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The ",(0,l.kt)("inlineCode",{parentName:"p"},"data")," property should only be filled in for the POST method."))),(0,l.kt)("h3",{id:"format-facultatif"},"format ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": String"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": If the format is JSON the data returned or sent will be converted from JavaScript to JSON or from JSON to JavaScript depending on the request."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Value"),":",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"json ",(0,l.kt)("em",{parentName:"li"},"or")," JSON \u2192 With GET and POST method"),(0,l.kt)("li",{parentName:"ul"},"text \u2192 Only with GET method"),(0,l.kt)("li",{parentName:"ul"},"type \u2192 Only with GET method"),(0,l.kt)("li",{parentName:"ul"},"url \u2192 Only with GET method"),(0,l.kt)("li",{parentName:"ul"},"blob \u2192 Only with GET method and fetch")))),(0,l.kt)("p",null,"GET example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  url: 'https://api.yourdomain.com/articles',\n  // highlight-next-line\n  format: 'JSON',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("p",null,"POST example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  method: 'POST',\n  url: 'https://api.yourdomain.com/articles',\n  data: { title: 'POST Request Example' },\n  // highlight-next-line\n  format: 'JSON',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Initially the response is returned as is. The format can therefore be different in ",(0,l.kt)("inlineCode",{parentName:"p"},"request: auto")," depending on the type of request chosen in relation to browser compatibility.\nIt is therefore advisable to specify the ",(0,l.kt)("inlineCode",{parentName:"p"},"format")," or to treat the data well in the ",(0,l.kt)("inlineCode",{parentName:"p"},"response")," function."))),(0,l.kt)("h3",{id:"headers-facultatif"},"headers ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": Object"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": Allows performing various actions on HTTP request and response headers.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  url: 'https://api.yourdomain.com/articles',\n  format: 'JSON',\n  // highlight-next-line\n  headers: { 'Content-Type': 'application/json' },\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("h3",{id:"mode-facultatif"},"mode ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": String"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": Contains the mode of the request (e.g., cors, no-cors, cors-with-forced-preflight, same-origin, or navigate.) This is used to determine whether cross-origin requests will lead to valid responses, and what properties of the response will be readable."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Compatibility"),": Only with fetch.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  url: 'https://api.yourdomain.com/articles',\n  format: 'JSON',\n  headers: { 'Content-Type': 'application/json' },\n  // highlight-next-line\n  mode: 'cors',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("h3",{id:"cache-facultatif"},"cache ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": String"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": Contains the cache mode of the request. It controls how the request will interact with the browser's HTTP cache.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"_.ajax({\n  url: 'https://api.yourdomain.com/articles',\n  format: 'JSON',\n  headers: { 'Content-Type': 'application/json' },\n  mode: 'cors',\n  // highlight-next-line\n  cache: 'default',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("h3",{id:"response"},"response"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": Function"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": The query response function."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Parameter"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"res")," \u2192 The returned result.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:"{3-5}","{3-5}":!0},"_.ajax({\n  url: 'https://api.yourdomain.com/articles',\n  response: (res) => {\n    console.log(res);\n  },\n});\n")),(0,l.kt)("h3",{id:"error-facultatif"},"error ",(0,l.kt)("small",null,(0,l.kt)("inlineCode",{parentName:"h3"},"Facultatif"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Type"),": Function"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Description"),": The query error function if the request fails."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"Parameter"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"err")," \u2192 The returned error.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:"{6-8}","{6-8}":!0},"_.ajax({\n  url: 'https://api.yourdomain.com/articles',\n  response: (res) => {\n    console.log(res);\n  },\n  error: (err) => {\n    console.log(err);\n  }\n});\n")))}d.isMDXComponent=!0}}]);